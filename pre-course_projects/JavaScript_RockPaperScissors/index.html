<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>Project: Rock Paper Scissors</h1>
    <script>
        const computerPlay = function () {
            const options = ['rock', 'paper', 'scissors'];
            const randomElement = options[Math.floor(Math.random() * options.length)];
            return randomElement;
        }

        const singleRound = function (playerSelection, computerSelection) {
            const human = playerSelection.toLowerCase();
            const pc = computerSelection.toLowerCase();
            let result = '';

            if (human === 'rock' || human === 'paper' || human === 'scissors') {
                if (human === pc) {
                    return result += 'It\'s a Draw!';
                } else if (human === 'rock') {
                    if (pc === 'scissors') {
                        return result += 'You win! Rock beats scissors';
                    } else if (pc === 'paper') {
                        return result += 'you lose! Paper covers rock';
                    }
                }

                if (human === 'paper') {
                    if (pc === 'scissors') {
                        return result += 'You lose! Scissors beat paper';
                    } else if (pc === 'rock') {
                        return result += 'You win! Paper beats rock';
                    }
                }

                if (human === 'scissors') {
                    if (pc === 'rock') {
                        return result += 'you lose! Rock beat scissors';
                    } else if (pc === 'paper') {
                        return result += 'you win! Scissors beat paper';
                    }
                }
            }
        }

        const game = function () {
            let pc_points = 0;
            let human_points = 0;
            let greeting = 'This is Rock Paper Scissors! Lets play!';
            alert(greeting);

            for (i = 0; i < 5; i++) {
                let human = '';
                do {
                    human = prompt('Rock, Paper or Scissors???').toLowerCase();
                    if ((isNaN(human) === false) || !human.includes('rock') && !human.includes('paper') && !human.includes('scissors')) {
                        human = prompt('Please enter a valid input, rock, paper or scissors???').toLowerCase();
                    }
                }
                while ((isNaN(human) === false) || !human.includes('rock') && !human.includes('paper') && !human.includes('scissors'));

                let pc = computerPlay().toLowerCase();
                let result = `Round ${[i + 1]}: `;
                result += singleRound(human, pc);
                console.log(result);
                alert(result);

                if (result.includes('win')) {
                    human_points++;
                } else if (result.includes('lose')) {
                    pc_points++;
                } else if (result.includes('Draw')) {
                    continue;
                }
            }

            if (human_points > pc_points) {
                console.log(`FINAL RESULT: You beat the machine! ${human_points} vs ${pc_points}`);
                alert(`FINAL RESULT: You beat the machine! ${human_points} vs ${pc_points}`);
            } else {
                console.log(`FINAL RESULT: T460 won! ${pc_points} vs ${human_points}`);
                alert(`FINAL RESULT: T460 won! ${pc_points} vs ${human_points}`);
            }
        }
    </script>
</body>

</html>